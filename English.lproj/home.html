<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>FatWatch (__NAME__)</title>
		<script language="Javascript" type="text/javascript">
			function onChange() {
				var theForm = document.forms['import'];
				theForm.elements['sendbutton'].disabled = ! (theForm.elements['filedata'].value);
			}
		</script>
	</head>
	<body onload="onChange();">
		<h1>FatWatch on __NAME__</h1>
		<p>
			Wi-Fi Import/Export allows you to transfer weight measurements to and from FatWatch through your computer's web browser.  No special software is required.
		</p>
		<p>
			FatWatch uses comma separated values (CSV) as its file format for import and export.  CSV files are supported by many common applications.
		</p>
		<p>
			The columns used are Date, Weight, Checkmark, Note.  For the Checkmark column, 1 indicates a checkmark on that date, 0 indicates no check.  When importing only the first two columns (Date and Weight) are required.
		</p>
	
		<h1>Export</h1>
		
		<p>
			You can retrieve the weight data from your iPhone by clicking the following link.
		</p>
		
		<p>
			<a href="/export/weight.csv">Download Weight Data</a>
		</p>
	
		<h1>Import</h1>
		
		<form name="import" method="POST" enctype="multipart/form-data" action="/import">
			<p>
				You can send data to your iPhone using this form.  First, select a data file.
			</p>
			<p>
				<input type="file" name="filedata" accept="text/csv,text/plain" onchange="onChange();"/>
			</p>
			<p>
				If you need to, you can specify your file's encoding.  You might need to change this if your notes do not import correctly.  The default should be fine for most cases.
			</p>
			<p>
				File encoding: <select name="encoding">
					<option value="4" selected="true">Unicode (UTF-8)</option>
					<option value="30">Western (Mac OS Roman)</option>
					<option value="12">Western (Windows Latin 1)</option>
					<option value="5">Western (ISO Latin 1)</option>
					<option value="9">Western (ISO Latin 2)</option>
					<option value="15">Central European (Windows Latin 2)</option><!-- CP1250 -->
					<option value="11">Cyrillic (Windows)</option><!-- CP1251 -->
					<option value="13">Greek (Windows)</option><!-- CP1253 -->
					<option value="14">Turkish (Windows)</option><!-- CP1254 -->
					<option value="8">Japanese (Shift JIS)</option>
				</select>
			</p>
			<p>
				Existing data can be merged or replaced with the data from your file.
			</p>
			<dl>
				<dt>
					<input type="radio" name="how" value="merge" id="merge_button" checked="true"/>
					<label for="merge_button">Merge with existing data.</label>
				</dt>
				<dd>
					If the file and the iPhone have different weights for the same date, the weight in the file will replace the weight on the iPhone.  Otherwise, any existing weights on your iPhone will be left alone.
				</dd>
				<dt>
					<input type="radio" name="how" value="replace" id="replace_button"/>
					<label for="replace_button">Replace existing data.</label>
				</dt>
				<dd>
					All weights on your iPhone <strong>will be deleted</strong> and the weights in your file will take their place.
				</dd>
			</dl>
			<div>
				<input type="submit" name="sendbutton" value="Send to iPhone"/>
			</div>
		</form>
	</body>
</html>