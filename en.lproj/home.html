<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link rel="stylesheet" type="text/css" href="fatwatch.css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="values.js"></script>
	<script type="text/javascript" src="fatwatch.js"></script>
	<script type="text/javascript">
		$(document).ready(homeReady);
	</script>
	<title>FatWatch</title>
</head>
<body>
<div id="container">

<div id="header">
	<h1>
		<img id="icon" src="icon.png" alt="FatWatch icon"/>
		<span id="bigtitle">FatWatch</span>
	</h1>
	<p>
		Wi-Fi Import/Export allows you to transfer weight measurements to and from FatWatch through your computer's web browser.  No special software is required.
	</p>
	<p>
		What do you want to do?
		<a class="tablink" href="#export">Export to a file</a>,
		<a class="tablink" href="#import">Import from a file</a>,
		<a class="tablink" href="#format">Learn about file formats</a>,
		or
		<a class="tablink" href="#bookmarking">Bookmark this page</a>.
	</p>
</div>

<div id="tabs">
	
	<div class="section" id="export">
	<h1>Export</h1>
	<form method="POST" action="/export">
		<input type="hidden" name="order" id="exportOrder"/>
		<p>
			Copy your weight history from your <span class="deviceModel">device</span> to this computer as a <a class="tablink" href="#format">CSV file</a>.
		</p>
		<p>
			<input type="submit" value="Export Weight History"/>
		</p>
		<h2>Advanced Settings</h2>
		<p>
			Select what columns to include, or choose:
			<span id="exportPresets"><a href="#">Last Used</a></span>.
		</p>
		<table summary="Columns available for export.">
			<thead>
			<tr>
				<th>Include</th>
				<th>Column Name</th>
				<th>Format</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>
					<input type="checkbox" name="date" id="exportDate"/>
					<label for="exportDate">Date</label>
				</td>
				<td>
					<input name="dateName" id="exportDateName"/>
				</td>
				<td>
					<select name="dateFormat" id="exportDateFormat">
					</select>
				</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="weight" id="exportWeight"/>
					<label for="exportWeight">Weight</label>
				</td>
				<td>
					<input name="weightName" id="exportWeightName"/>
				</td>
				<td>
					<select name="weightFormat" id="exportWeightFormat">
					</select>
				</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="trendWeight" id="exportTrendWeight"/>
					<label for="exportTrendWeight">Weight Trend</label>
				</td>
				<td>
					<input name="trendWeightName" id="exportTrendWeightName"/>
				</td>
				<td>
					<i>same as weight</i>
				</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="fat" id="exportFat"/>
					<label for="exportFat">Body Fat Ratio</label>
				</td>
				<td>
					<input name="fatName" id="exportFatName"/>
				</td>
				<td>
					<select name="fatFormat" id="exportFatFormat">
					</select>
				</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="flag1" id="exportFlag1"/>
					<label for="exportFlag1">Blue Mark</label>
				</td>
				<td>
					<input name="flag1Name" id="exportFlag1Name"/>
				</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="flag2" id="exportFlag2"/>
					<label for="exportFlag2">Red Mark</label>
				</td>
				<td>
					<input name="flag2Name" id="exportFlag2Name"/>
				</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="flag3" id="exportFlag3"/>
					<label for="exportFlag3">Green Mark</label>
				</td>
				<td>
					<input name="flag3Name" id="exportFlag3Name"/>
				</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="flag4" id="exportFlag4"/>
					<label for="exportFlag4">Yellow Mark</label>
				</td>
				<td>
					<input name="flag4Name" id="exportFlag4Name"/>
				</td>
			</tr>
			<tr>
				<td>
					<input type="checkbox" name="note" id="exportNote"/>
					<label for="exportNote">Note</label>
				</td>
				<td>
					<input name="noteName" id="exportNoteName"/>
				</td>
			</tr>
			</tbody>
		</table>
	</form>
	</div>

	<div class="section" id="import">
	<h1>Import</h1>
	<form method="POST" enctype="multipart/form-data" action="/upload">
		<p>
			Choose a <a class="tablink" href="#format">CSV file</a> and then send it to your <span class="deviceModel">device</span> using this form.
		</p>
		<p>
			<input id="importFileData" type="file" name="filedata" accept="text/csv,text/plain"/>
		</p>
		<p>
			<input id="sendButton" type="submit" name="sendbutton" value="Send to Device"/>
		</p>
		<h2>Advanced Settings</h2>
		<p>
			If you need to, you can specify your file's text encoding.  You might need to change this if your notes do not import correctly.  The default (UTF-8) should be fine for most cases.
		</p>
		<p>
			File encoding: <select name="encoding">
				<option value="4" selected="true">Unicode (UTF-8)</option>
				<option value="30">Western (Mac OS Roman)</option>
				<option value="12">Western (Windows Latin 1)</option>
				<option value="5">Western (ISO Latin 1)</option>
				<option value="9">Western (ISO Latin 2)</option>
				<option value="15">Central European (Windows Latin 2)</option><!-- CP1250 -->
				<option value="11">Cyrillic (Windows)</option><!-- CP1251 -->
				<option value="13">Greek (Windows)</option><!-- CP1253 -->
				<option value="14">Turkish (Windows)</option><!-- CP1254 -->
				<option value="8">Japanese (Shift JIS)</option>
			</select>
		</p>
	</form>
	</div>
	
	<div class="section" id="format">
	<h1>File Format</h1>
	<p>
		FatWatch uses comma separated values (CSV) as its file format for import and export.  CSV files are supported by many common applications, including spreadsheets such as Numbers and Excel.
	</p>
	<p>
		The columns used are <strong>Date, Weight, Checkmark, Note</strong>.
	</p>
	<p>
		The Date column may be in either ISO format (YYYY-MM-DD) or your local date format.  It is always exported in ISO format.
	</p>
	<p>
		The Weight column is in pounds or kilograms, depending on your settings in FatWatch.  (If you have selected Stones, weight is imported and exported as pounds.)
	</p>
	<p>
		The Checkmark column is either 1 or 0, indicating either a check or no check on that date.
	</p>
	<p>
		The Note column may be any text. Text containing spaces or punctuation should be surrounded by double quotes; to include a double quote character within a quoted string, use two double quotes in succession (e.g., <code>"I am 5'8"" tall"</code>).
	</p>
	<p>
		When importing only the Date and Weight columns are required.
	</p>
	</div>
	
	<div class="section" id="bookmarking">
	<h1>Bookmarking</h1>
	<p>
		Because FatWatch generates a new web address each time you enable Wi-Fi Import/Export, <strong>bookmarks to this page will not work.</strong>  You can still save yourself some typing, however, because FatWatch advertises the address of this page to your local network using <a href="http://www.apple.com/bonjour/">Bonjour</a>.
	</p>
	<p>
		If you are using Safari on a Macintosh, you can find advertised websites by selecting Show All Bookmarks from the Bookmarks menu, then selecting Bonjour in the collections list.
	</p>
	<p>
		If you are using Windows, you can install <a href="http://www.apple.com/support/downloads/bonjourforwindows.html">Bonjour for Windows</a>, which includes a plug-in for Internet Explorer to display Bonjour advertised websites.
	</p>
	</div>

</div>

<div id="footer">
	<p>
		Need help? Visit <a target="_blank" href="http://www.fatwatchapp.com/support/">the FatWatch support website</a> or send email to <a id="helpMailLink" href="mailto:help@fatwatchapp.com?subject=FatWatch">help@fatwatchapp.com</a>.
	</p>
	<p id="copyright"></p>
</div>

</div>
</body>
</html>